let data = {
    "data": {
      "queryEvent": [
        {
          "id": "0x504a",
          "name": "SqueezeFest 2024",
          "description": "Britain's Preeminent Accordion Festival",
          "start": "2024-06-01T00:00:00Z",
          "end": "2020-06-01T00:00:00Z",
          "type": "festival",
          "account": {
            "id": "0x5054",
            "name": "Acme Events"
          },
          "site": {
            "id": "0x5052",
            "name": "Daresbury Estate",
            "dimensions": {
              "coordinates": [
                {
                  "points": [
                    {
                      "latitude": 53.3404374,
                      "longitude": -2.6231562
                    },
                    {
                      "latitude": 53.3400787,
                      "longitude": -2.6200663
                    },
                    {
                      "latitude": 53.3455489,
                      "longitude": -2.6171051
                    },
                    {
                      "latitude": 53.3459204,
                      "longitude": -2.6202165
                    },
                    {
                      "latitude": 53.3404374,
                      "longitude": -2.6231562
                    }
                  ]
                }
              ]
            },
            "structures": [
              {
                "id": "0x5059",
                "name": "Stage",
                "capacity": 20,
                "sensors": [
                  {
                    "name": "Stage Electricity",
                    "capabilities": [
                      "MEASURE_ELECTRICITY"
                    ]
                  },
                  {
                    "name": "Stage Temp #1",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "name": "Stage Headcount",
                    "capabilities": [
                      "MEASURE_HEADCOUNT"
                    ]
                  }
                ]
              }
            ],
            "areas": [
              {
                "id": "0x505b",
                "name": "General Seating",
                "capacity": 1500,
                "centre": {
                  "latitude": 53.3430893,
                  "longitude": -2.6199804
                },
                "inBoundary": {
                  "name": "Daresbury Estate"
                },
                "sensors": [
                  {
                    "id": "0x504e",
                    "name": "Seating Humidity #1",
                    "capabilities": [
                      "MEASURE_HUMIDITY"
                    ]
                  },
                  {
                    "id": "0x504f",
                    "name": "Seating Headcount",
                    "capabilities": [
                      "MEASURE_HEADCOUNT"
                    ]
                  },
                  {
                    "id": "0x5050",
                    "name": "Seating Air Quality",
                    "capabilities": [
                      "MEASURE_AIR_QUALITY"
                    ]
                  },
                  {
                    "id": "0x5057",
                    "name": "Seating Temp #1",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5058",
                    "name": "Seating CO2",
                    "capabilities": [
                      "MEASURE_CO2"
                    ]
                  },
                  {
                    "id": "0x505e",
                    "name": "Temp Sensor E1EMNW",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x505f",
                    "name": "Temp Sensor K86PFT",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5060",
                    "name": "Temp Sensor EFALNZ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5061",
                    "name": "Temp Sensor 0ZOAMY",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5062",
                    "name": "Temp Sensor 5LYV4Q",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5063",
                    "name": "Temp Sensor UELQLE",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5064",
                    "name": "Temp Sensor RH8RAK",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5065",
                    "name": "Temp Sensor UNYP15",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5066",
                    "name": "Temp Sensor WLBBDC",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5067",
                    "name": "Temp Sensor LIYGPV",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5068",
                    "name": "Temp Sensor NM8E6K",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5069",
                    "name": "Temp Sensor KP64F5",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x506a",
                    "name": "Temp Sensor C42FYG",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x506b",
                    "name": "Temp Sensor LO873P",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x506c",
                    "name": "Temp Sensor EMB81Q",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x506d",
                    "name": "Temp Sensor JVJBQW",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x506e",
                    "name": "Temp Sensor S43ZSW",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x506f",
                    "name": "Temp Sensor F2EIB3",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5070",
                    "name": "Temp Sensor WF17FN",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5071",
                    "name": "Temp Sensor SKRIXT",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5072",
                    "name": "Temp Sensor BWWH32",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5073",
                    "name": "Temp Sensor 71DMGU",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5074",
                    "name": "Temp Sensor ZT8LZY",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5075",
                    "name": "Temp Sensor B4DRWD",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5076",
                    "name": "Temp Sensor H5Y93P",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5077",
                    "name": "Temp Sensor S1OGVS",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5078",
                    "name": "Temp Sensor 8MO1OY",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5079",
                    "name": "Temp Sensor LP2S7X",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x507a",
                    "name": "Temp Sensor E7H6A6",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x507b",
                    "name": "Temp Sensor 0TK44S",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x507c",
                    "name": "Temp Sensor 9OS630",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x507d",
                    "name": "Temp Sensor U03QUR",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x507e",
                    "name": "Temp Sensor 2T3GDC",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x507f",
                    "name": "Temp Sensor IOEDMX",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5080",
                    "name": "Temp Sensor U3B236",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5081",
                    "name": "Temp Sensor KVWZMJ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5082",
                    "name": "Temp Sensor INSX8F",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5083",
                    "name": "Temp Sensor I48T14",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5084",
                    "name": "Temp Sensor PYFMPM",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5085",
                    "name": "Temp Sensor LEFB7B",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5086",
                    "name": "Temp Sensor 30E1EF",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5087",
                    "name": "Temp Sensor Y28HF7",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5088",
                    "name": "Temp Sensor Y8T5R6",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5089",
                    "name": "Temp Sensor AX7IHJ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x508a",
                    "name": "Temp Sensor NLGU0K",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x508b",
                    "name": "Temp Sensor 3TB2D2",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x508c",
                    "name": "Temp Sensor Z9E8QQ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x508d",
                    "name": "Temp Sensor 1XW1CC",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x508e",
                    "name": "Temp Sensor MJPZ77",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x508f",
                    "name": "Temp Sensor 4SDJSJ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5090",
                    "name": "Temp Sensor AHWNMW",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5091",
                    "name": "Temp Sensor 0GKAUJ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5092",
                    "name": "Temp Sensor ZAVQMR",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5093",
                    "name": "Temp Sensor 7IY64M",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5094",
                    "name": "Temp Sensor PB61Z0",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5095",
                    "name": "Temp Sensor 7RVKF0",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5096",
                    "name": "Temp Sensor 3EPDSE",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5097",
                    "name": "Temp Sensor MYAA9O",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5098",
                    "name": "Temp Sensor 1R3B9J",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x5099",
                    "name": "Temp Sensor 99OCT4",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x509a",
                    "name": "Temp Sensor 6ELIQR",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x509b",
                    "name": "Temp Sensor VP4O6U",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x509c",
                    "name": "Temp Sensor 1X0U4H",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x509d",
                    "name": "Temp Sensor X7YULR",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x509e",
                    "name": "Temp Sensor JQS53T",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x509f",
                    "name": "Temp Sensor NI389F",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a0",
                    "name": "Temp Sensor H1KN6A",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a1",
                    "name": "Temp Sensor SOO106",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a2",
                    "name": "Temp Sensor ZLMMW4",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a3",
                    "name": "Temp Sensor 2PKD4C",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a4",
                    "name": "Temp Sensor G9UQB1",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a5",
                    "name": "Temp Sensor K9TXJ7",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a6",
                    "name": "Temp Sensor AKWPPA",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a7",
                    "name": "Temp Sensor JYXD5E",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a8",
                    "name": "Temp Sensor JXQF4D",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50a9",
                    "name": "Temp Sensor 15G4QZ",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50aa",
                    "name": "Temp Sensor O8LGZA",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50ab",
                    "name": "Temp Sensor 3RMQAT",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50ac",
                    "name": "Temp Sensor K6G53O",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50ad",
                    "name": "Temp Sensor B9HL6G",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50ae",
                    "name": "Temp Sensor HJE9H4",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50af",
                    "name": "Temp Sensor 0BZ84H",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b0",
                    "name": "Temp Sensor FE74FK",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b1",
                    "name": "Temp Sensor PIA55A",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b2",
                    "name": "Temp Sensor 1Z3MG2",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b3",
                    "name": "Temp Sensor BC2M7U",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b4",
                    "name": "Temp Sensor U6BLB1",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b5",
                    "name": "Temp Sensor BPM6VV",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b6",
                    "name": "Temp Sensor AYUH8I",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b7",
                    "name": "Temp Sensor 6UB2LX",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b8",
                    "name": "Temp Sensor 9HLOO6",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50b9",
                    "name": "Temp Sensor YQDJ45",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50ba",
                    "name": "Temp Sensor 2LTD0N",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50bb",
                    "name": "Temp Sensor WNMKUR",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50bc",
                    "name": "Temp Sensor P5QNHL",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50bd",
                    "name": "Temp Sensor 5HP4R1",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50be",
                    "name": "Temp Sensor UK28PM",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50bf",
                    "name": "Temp Sensor P7TKSH",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50c0",
                    "name": "Temp Sensor KIBHO0",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  },
                  {
                    "id": "0x50c1",
                    "name": "Temp Sensor DY8I7Q",
                    "capabilities": [
                      "MEASURE_TEMP"
                    ]
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "extensions": {
      "touched_uids": 353,
      "tracing": {
        "version": 1,
        "startTime": "2023-12-14T20:14:08.116847047Z",
        "endTime": "2023-12-14T20:14:08.144863839Z",
        "duration": 28016791,
        "execution": {
          "resolvers": [
            {
              "path": [
                "queryEvent"
              ],
              "parentType": "Query",
              "fieldName": "queryEvent",
              "returnType": "[Event]",
              "startOffset": 3106166,
              "duration": 24891250,
              "dgraph": [
                {
                  "label": "query",
                  "startOffset": 4212916,
                  "duration": 23782667
                }
              ]
            }
          ]
        }
      }
    }
  }

let nodes = {}
let edges = []

// run the function after 2 seconds
setTimeout(() => { 
    extractDict(nodes, edges, data);
    _elements = convertToCytoscape(nodes, edges)
    //console.log(JSON.stringify(elements, null, 2))
    console.log("setting elements")
    cy.elements().remove(); cy.add( _elements );
    cy.layout({
        //name: 'dagre',
        //name: 'concentric',
        //name: 'breadthfirst',
        name: 'cise',
        fit: true,
        animate: true,        
    }).run();
}, 2000);      

